# Spring_Course
## Веб-додаток для генерації меню страв
### Functional Requirements:
1. Як користувач, я хочу мати можливість створити обліковий запис, щоб мати доступ до функціоналу веб-застосунку.
2. Як користувач, я хочу мати можливість авторизуватися у системі, щоб мати доступ до персоналізованого контенту.
3. Як користувач, я хочу мати можливість згенерувати меню на вказаний проміжок часу (від одного дня до одного місяця), щоб планувати свої прийоми їжі.
4. Як користувач, я хочу мати можливість видалити одну або декілька страв з меню, щоб налаштовувати свій список страв.
5. Як користувач, я хочу мати можливість замінити одну або декілька обраних страв з меню на випадкові інші страви, щоб урізноманітнити своє харчування.
6. Як користувач, я хочу мати можливість сортувати страви за категоріями (сніданок, обід, вечеря), щоб зручно переглядати доступні варіанти.
7. Як користувач, я хочу мати можливість вказати продукт, якого не буде в жодній згенерованій страві, та зберегти цей вибір для майбутніх генерацій меню.
8. Як користувач, я хочу мати можливість зберегти одну або декілька страв до розділу "Улюблені", щоб швидко знаходити їх у майбутньому.
9. Як користувач, я хочу мати можливість зберегти ціле меню до розділу "Улюблені", щоб повторно використовувати його у майбутньому.
10. Як користувач, я хочу, щоб меню складалося з трьох страв (сніданок, обід, вечеря), щоб мати різноманітні прийоми їжі протягом дня.
11. Як користувач, я хочу, щоб кожна страва містила опис, який включає назву страви, зображення, інгредієнти та, якщо можливо, рецепт і покрокову інструкцію для приготування, щоб мати повну інформацію про страви.
12. Як адміністратор, я хочу мати можливість додавати нові страви до списку доступних для генерації меню, щоб розширити асортимент для користувачів.
13. Як адміністратор, я хочу мати можливість редагувати існуючі страви (назву, зображення, інгредієнти, рецепт тощо), щоб оновлювати інформацію і виправляти помилки.
14. Як адміністратор, я хочу мати можливість видаляти страви зі списку доступних, якщо вони більше не актуальні або більше не пропонуються.

### System behavior:
1. **Створення облікового запису:**
   - При введенні користувачем необхідної інформації (електронної пошти та пароля), система створює новий обліковий запис.
   - Система перевіряє унікальність електронної пошти для уникнення дублікатів облікових записів.

2. **Авторизація користувача:**
   - При введенні вірної електронної пошти та пароля, система надає користувачу доступ до особистого контенту.
   - У разі невірного введення даних система відображає повідомлення про помилку.

3. **Генерація меню на вказаний проміжок часу:**
   - Користувач обирає проміжок часу для генерації меню (наприклад, день, тиждень, місяць).
   - Система автоматично створює меню, враховуючи вказаний проміжок часу та інші вимоги.
  
4. **Можливість видалення страв з меню:**
   - Користувач може обирати одну або декілька страв для видалення зі свого згенерованого меню.
   - Після підтвердження видалення, система вилучає вибрані страви з меню користувача та заміняє їх іншими.

5. **Заміна обраних страв з меню на випадкові інші страви:**
   - Користувач може обирати одну або декілька страв для заміни на випадкові інші.
   - Система автоматично замінює вибрані страви новими випадковими варіантами з доступного асортименту.

6. **Збереження страв до розділу "Улюблені":**
   - Користувач може вибрати страву та зберегти її до розділу "Улюблені" для майбутнього швидкого доступу.
   - Система забезпечує можливість перегляду та управління списком улюблених страв користувача.

7. **Збереження цілого меню до розділу "Улюблені":**
   - Користувач може зберегти згенероване меню (складене з трьох страв на день) до розділу "Улюблені".
   - Система забезпечує можливість перегляду та управління списком улюблених меню користувача.

8. **Управління списоком страв:**
   - Адміністратор може створювати, редагувати та видаляти страви.
   - Система надає зручний інтерфейс для створення, редагування та видалення страв.

9. **Подивитися список страв:**
   - Адміністратор може переглянути повний список страв, які доступні для генерації меню.
   - Система надає зручний інтерфейс для перегляду усіх страв, їх опису та зображень.
   
### Realization of requirements by interface methods:
```java
public interface MenuService {

    // Створення облікового запису
    User createUser(UserDto userDto);

    // Авторизація користувача
    User authenticateUser(String email, String password);

    // Генерація меню на вказаний проміжок часу (1 день - 1 місяць)
    List<Menu> generateMenu(Long userId, LocalDate startDate, LocalDate endDate);

    // Видалення однієї чи декількох страв з меню
    void deleteDishesFromMenu(Long menuId, Set<Long> dishIds);

    // Заміна однієї чи декількох страв в меню на випадкові інші
    void replaceDishesInMenu(Long menuId, Set<Long> dishIds);

    // Сортування страв за категоріями: сніданок, обід, вечеря
    List<Dish> sortDishesByCategory(Long userId, DishCategory category);

    // Вказання продуктів, які не повинні входити в страви + запам'ятовування вибору
    void excludeIngredients(Long userId, Set<String> excludedIngredients);

    // Збереження однієї чи декількох страв до розділу "Улюблені"
    void saveDishesToFavorites(Long userId, Set<Long> dishIds);

    // Збереження цілого меню до розділу "Улюблені"
    void saveMenuToFavorites(Long userId, Long menuId);

    // Отримання списку улюблених страв
    List<Dish> getFavoriteDishes(Long userId);

    // Отримання списку улюблених меню
    List<Menu> getFavoriteMenus(Long userId);

    // Отримання згенерованого меню для користувача
    List<Menu> getGeneratedMenu(Long userId);

    // Отримання інформації про страву (назва, зображення, інградієнти, рецепт, інструкція)
    DishDetails getDishDetails(Long dishId);
}
```

### API request and response. An example:
```
GET /api/users/{userId}/generated-menu
200 OK
Content-Type: application/json
```
```json
[
  {
    "id": 1,
    "breakfast": {
      "id": 101,
      "name": "Oatmeal",
      "image": "oatmeal.jpg",
      "ingredients": ["oats", "milk", "fruit"],
      "recipe": "Combine oats, milk, and your favorite fruit..."
    },
    "lunch": {
      "id": 102,
      "name": "Grilled Chicken Salad",
      "image": "chicken_salad.jpg",
      "ingredients": ["chicken", "lettuce", "tomato", "dressing"],
      "recipe": "Grill chicken and toss with fresh vegetables and dressing."
    },
    "dinner": {
      "id": 103,
      "name": "Vegetarian Pasta",
      "image": "vegetarian_pasta.jpg",
      "ingredients": ["pasta", "tomato sauce", "vegetables", "cheese"],
      "recipe": "Cook pasta, mix with tomato sauce, sautéed vegetables, and top with cheese."
    },
    "date": "2024-03-01"
  },
  // Додаткові елементи для інших днів
]
```
